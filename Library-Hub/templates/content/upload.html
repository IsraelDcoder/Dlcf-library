{% extends "base.html" %}

{% block title %}Upload Content - DLCF e-Library{% endblock %}

{% block content %}
<div class="page-container">
    <div class="page-header">
        <h1><i class="fas fa-upload"></i> Upload Content</h1>
        <p>Share learning resources with the library</p>
    </div>
    
    <div class="upload-page">
        <form method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="title">Title <span class="required">*</span></label>
                    <input type="text" id="title" name="title" required placeholder="Enter content title">
                </div>
                
                <div class="form-group">
                    <label for="author">Author</label>
                    <input type="text" id="author" name="author" placeholder="Enter author name">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="content_type">Content Type <span class="required">*</span></label>
                    <select id="content_type" name="content_type" required>
                        <option value="">Select type...</option>
                        <option value="pdf">PDF Document</option>
                        <option value="ebook">eBook</option>
                        <option value="audio">Audio</option>
                        <option value="video">Video</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="category_id">Category</label>
                    <select id="category_id" name="category_id">
                        <option value="">No Category</option>
                        {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" placeholder="Enter a description of the content"></textarea>
            </div>
            
            <div class="form-group">
                <label for="tags">Tags</label>
                <input type="text" id="tags" name="tags" placeholder="Enter tags separated by commas (e.g., science, physics, education)">
                <small>Separate multiple tags with commas</small>
            </div>
            
            <div class="form-group">
                <label for="file">File <span class="required">*</span></label>
                <div class="file-upload">
                    <input type="file" id="file" name="file" required>
                    <div class="file-upload-label">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Drag and drop or click to select a file</p>
                        <span id="file-name"></span>
                    </div>
                </div>
                <small>Allowed: PDF, EPUB, MP3, MP4, etc. Max size: 100MB</small>
            </div>
            
            <div class="form-group checkbox">
                <label>
                    <input type="checkbox" name="is_public" checked> Make this content public
                </label>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-upload"></i> Upload Content
                </button>
                <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('file').addEventListener('change', function() {
    var fileName = this.files[0] ? this.files[0].name : '';
    document.getElementById('file-name').textContent = fileName;
});
</script>
{% endblock %}
